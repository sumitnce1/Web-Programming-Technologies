<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <title>Additon-Calculator</title>
    <script>
        /* Javascript code
        function sum(){
        var num1= document.getElementById("num1").value;
        var num2= document.getElementById("num2").value
        var obj= { num1:num1, num2: num2 };
        //send data by ajax and get result /calc GET
            // 1. Create XMLHttpRequest object
            var req = new XMLHttpRequest();            
            // 2. Open request menas assign path and tupe of reqest
            req.open("GET", "/add", true)
            // 3. (Optional) Set Header if sending data
            req.setRequestHeader("Content-type", "aplication/json")
            // 4. Register unction on onreadystatechange(recieve data inside it by responseText)
            req.onreadystatechange=function(){
                if(req.readyState==4){
                    console.log(this.responseText);
                    document.getElementById("result").innerHTML ="Result is: " + this.responseText;
                }
            }
            // 5. Send request.
            req.send(JSON.stringify(obj));
            // -> it executes onreadystatechange function for each state change
            // 0 -> request not initialed
            // 1 -> reest send
            // 2 -> server got the request 
            // 3 -> Server processing request
            // 4 -> You got the response

        }   
        */ 
       
        //Jquery AJAX code
		function sum(){
			var num1 = $("#num1").val();
            var num2 = $("#num2").val();

			var obj = { num1 : num1, num2: num2}

			$.ajax({
				url:"/add",
				method : "POST",
				data : JSON.stringify(obj),
				headers : {
					"Content-type":"application/json"
				}
			}).done(function(response){
				console.log(response)
				$("#result").html("Result is "+ response)
			})
		}
    </script>
</head>
<body class="bg-info">
    <div class="container">
        <div class="row justify-content-center align-items-center" style="height: 95vh;">   
            <div class="col-md-5 p-5 m-5 bg-danger-subtle rounded-2">
                <h3 class="text-center fw-bold"> Calculator</h3> <hr>
                    <div class="">
                    <label for="" class="fw-bold">Enter First Number:</label>
                    <input class="form-control" type="text" name="num1" id="num1" placeholder="Enter Number 1"> <br>
                    </div>
                    <div class="">
                    <label for="" class="fw-bold">Enter Second Number: </label>
                    <input class="form-control" type="text" name="num2" id="num2" placeholder="Enter Number 2"> <br>
                </div>
                    <div class="text-center"><button class="btn btn-outline-success w-75" onclick="sum()"><b>Add</b></button></div>
                <div><span id="result"></span></div>
    </div>
</div>
    </div>
</body>
</html>